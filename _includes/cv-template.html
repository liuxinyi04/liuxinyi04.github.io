{% assign cv = site.data.cv %}

<div class="cv-container">
  <!-- Basic Information -->
  <div class="cv-section cv-header">
    <h1>{{ cv.basics.name }}</h1>
    <div class="cv-contact">
      {% if cv.basics.email %}
      <div class="cv-contact-item">
        <i class="fas fa-envelope"></i> {{ cv.basics.email }}
      </div>
      {% endif %}
      {% if cv.basics.phone %}
      <div class="cv-contact-item">
        <i class="fas fa-phone"></i> {{ cv.basics.phone }}
      </div>
      {% endif %}
      {% if cv.basics.profiles.size > 0 %}
      <div class="cv-profiles">
        {% for profile in cv.basics.profiles %}
        <a href="{{ profile.url }}" target="_blank" class="cv-profile-link">
          {{ profile.network }}
        </a>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    {% if cv.basics.summary %}
    <div class="cv-section">
      <h2>Summary</h2>
      <p>{{ cv.basics.summary }}</p>
    </div>
    {% endif %}
  </div>

  {% if cv.education.size > 0 %}
  <div class="cv-section">
    <h2>Education</h2>
    <ul class="cv-list">
      {% for education in cv.education %}
      <li class="cv-item">
        <div class="cv-item-header">
          <div class="cv-item-title">{{ education.area }}</div>
          <div class="cv-item-date">{{ education.endDate }}</div>
        </div>
        <div class="cv-item-content">
          <div class="cv-item-subtitle">{{ education.institution }}</div>
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if cv.work.size > 0 %}
  <div class="cv-section">
    <h2>Work Experience</h2>
    {% for work in cv.work %}
    <div class="work-item">
      <img src="{{ base_path }}/images/{% if work.company contains 'Amazon' %}amazon.png{% else %}bytedance.png{% endif %}" alt="{{ work.company }}" class="company-logo">
      <div class="work-content">
        {{ work.position }}<br/>
        {{ work.company }} | {{ work.summary }}
      </div>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  {% if cv.publications.size > 0 %}
  <div class="cv-section">
    <h2>Publications</h2>
    <ul class="cv-list">
      {% for publication in cv.publications %}
      <li class="cv-item">
        <div class="cv-item-header">
          <div class="cv-item-title">{{ publication.name }}</div>
          <div class="cv-item-date">{{ publication.releaseDate | slice: 0, 4 }}</div>
        </div>
        <div class="cv-item-content">
          <div class="cv-item-subtitle">{{ publication.publisher }}</div>
          {% if publication.summary %}
          <div class="cv-item-detail">{{ publication.summary }}</div>
          {% endif %}
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if cv.projects.size > 0 %}
  <div class="cv-section">
    <h2>Projects</h2>
    <ul class="cv-list">
      {% for project in cv.projects %}
      <li class="cv-item">
        <div class="cv-item-header">
          <div class="cv-item-title">{{ project.name }}</div>
          <div class="cv-item-date">{{ project.startDate }}{% if project.endDate %} - {{ project.endDate }}{% endif %}</div>
        </div>
        <div class="cv-item-content">
          <div class="cv-item-detail">{{ project.description }}</div>
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>

<style>
.work-item {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}
.company-logo {
  width: 40px;
  height: 40px;
  margin-right: 15px;
  object-fit: contain;
}
.work-content {
  flex: 1;
}
</style>
